/*
 * DemoClient.java
 */

package de.hswt.swa.rmi;

import java.rmi.Naming;
import java.util.Vector;

import de.hswt.swa.tools.StatisticsCalculatorService;

public class DemoClient {

	public static void main(String args[]) {
		try {
			String url = "rmi://localhost:13001/demoService";

			w("Suche Server unter '" + url + "': ");

			// 1. Schritt: Server suchen:
			DemoServerInterface server =
				(DemoServerInterface) Naming.lookup(url);

			wln("erfolgreich!");

			// 2. Schritt: Methoden ganz normal aufrufen:

			w("Uhrzeit: ");
			String zeit = server.aktuelleUhrzeit();
			wln(zeit);

			w("Verzeichnis: ");
			String[] vrz = server.listeVerzeichnis("/home");
			wln(vrz.length + " Eintrï¿½ge...");

			for (int i = 0; i < vrz.length; i++)
				wln("[" + i + "]\t" + vrz[i]);

			StatisticsCalculatorService serverCalc =
					(StatisticsCalculatorService) Naming.lookup(url);
			
			Vector v = new Vector();
			v.add(10.0);
			v.add(15.0);
			v.add(20.0);
			
			serverCalc.setValues(v);
			System.out.println(serverCalc.getStandardDeviation());
			
		} catch (Exception e) {
			e.printStackTrace();
			wln("Fehler: " + e );
		}
	}

	//--------------------------------------> Hilfsroutinen:
	private static void wln(String s) {
		System.out.println(s);
	}

	private static void w(String s) {
		System.out.print(s);
	}

}
